<div class='oai_fields'>
  <%= fi.input :base_url, as: :string, input_html: { value: importer.parser_fields['base_url'] } %>

  <%= fi.input :metadata_prefix, as: :string, hint: t('bulkrax.importer.oai.hints.metadata_prefix'), input_html: { value: importer.parser_fields['metadata_prefix'] } %>

  <%= fi.input :set, collection: [importer.parser_fields['set']], label: t('bulkrax.importer.oai.labels.set'), selected: importer.parser_fields['set'] %>
  <button type="button" class="btn btn-default refresh-set-source"><%= t('bulkrax.importer.oai.refresh_sets') %></button>

  <%= fi.input :visibility,
    collection: [
      [t('bulkrax.importer.oai.visibility.public'), 'open'],
      [t('bulkrax.importer.oai.visibility.private'), 'restricted'],
      [t('bulkrax.importer.oai.visibility.institution'), 'authenticated']
    ],
    selected: importer.parser_fields['visibility'] || 'open',
    input_html: { class: 'form-control' }
  %>

  <% if defined?(::Hyrax) %>
    <% rights_statements = Hyrax.config.rights_statement_service_class.new %>
    <%= fi.input :rights_statement,
          collection: rights_statements.select_active_options,
          selected: importer.parser_fields['rights_statement'],
          include_blank: true,
          item_helper: rights_statements.method(:include_current_value),
          input_html: { class: 'form-control' },
          required: false
          %>
    <%= fi.input :override_rights_statement, as: :boolean, hint: t('bulkrax.importer.oai.hints.override_rights_statement'), input_html: { checked: (importer.parser_fields['override_rights_statement'] == "1") } %>
  <% end %>
  <%= fi.input :thumbnail_url, required: false, as: :string, input_html: { value: importer.parser_fields['thumbnail_url'] } %>
  <div class="help-block well well-sm">
    <%= t('bulkrax.importer.oai.hints.thumbnail_url_html').html_safe %>
  </div>
</div>
